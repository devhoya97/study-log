# 배열 인덱스 vs 이진 검색 트리 (gpt)
```
배열 인덱스	        | 이진 검색 트리(BST)
삽입/삭제 느림 (O(N))	| 삽입/삭제 빠름 (O(log N))
항상 정렬 상태 유지 필요	| 노드 구조만 잘 맞추면 됨
검색 빠름 (O(log N))	| 검색 빠름 (O(log N))
```
- 배열은 삽입/삭제가 느리기 때문에 동적 데이터에는 부적합해.
- 그래서 이진 검색 트리(BST)가 등장해서 동적 데이터 추가/삭제를 빠르게 하면서도 검색은 빠르게 유지할 수 있게 된 거야.

# 이진 검색 트리의 특징
1. 각 노드는 킷값을 하나씩 갖는다. 각 노드의 킷값은 모두 다르다.
2. 최상위 레벨에 루트 노드가 있고, 각 노드는 최대 2개의 자식 노드를 갖는다.
3. 임의 노드의 킷값은 자신의 왼쪽 아래에 있는 모든 노드의 킷값보다 크고, 오른쪽 아래에 있는 모든 노드의 킷값보다 작다.

# 이진 검색 트리의 노드 객체의 구조
- 보통은 item, left pointer, right pointer로 설명하지만 실제로는 pageNumberOfRecord까지 필요하다.
  - 검색 트리에서 검색이 성공했을 때 해당 키를 가진 레코드에 접근할 수 있는 정보가 있어야 하기 때문이다.
  - 여기서 item이 결국 index에 사용되는 킷값인 듯
- index는 궁극적으로 레코드에 접근하기 위한 목적으로 쓰인다는 점, 레코드의 위치 정보는 설명의 편의상 나타내지 않았을 뿐이라는 점을 염두하라

# 검색
- search(t, x)
  - t는 (서브) 트리의 루트 노드 레퍼런스
  - x는 검색하고자 하는 키
- 루트 노드의 킷값과 x의 대소를 비교하는 수고를 하고 나면 자신과 성격은 똑같으면서 크기만 더 작은 문제를 만난다. (재귀적 구조)

# 삽입
- 원소 x를 이진 검색 트리에 삽입하려면 우선 이진 검색 트리에 x를 킷값으로 가진 노드가 없어야 한다.
- 원소 x를 삽입할 자리를 찾는 것은 실패하는 검색을 한 번 수행하는 것과 같다.
  - 즉 루트 노드로부터 x에 대한 검색을 수행해 임의의 리프 노드에 이르러 더 이상 내려갈 곳이 없다는 것이 확인되면 x를 그 리프 노드의 자식으로 매단다.
- 이진 검색 트리의 모양은 원소들이 어떤 순서로 삽입되었는지에 따라 결정된다.
- 삽입을 구현한 코드는 필요할 때 다시 보기

# 삭제
- 이진 검색 트리의 삽입은 노드가 삽입될 자리만 정해지면 간단하다.
  - 삽입은 항상 트리의 아랫 부분인 리프 노드에서 행해지기 때문이다.
- 반면 삭제는 트리의 전 영역에서 발생한다.
  - 삭제는 삭제할 노드가 정해진 이후에 일이 더 많다.
- 이진 검색 트리에서 노드 r을 삭제한다면 다음 세 가지 경우에 따라 각각 다르게 처리해주어야 한다.
  1. r이 리프 노드인 경우 (자식이 없는 경우)
  2. r의 자식 노드가 1개인 경우
  3. r의 자식 노드가 2개인 경우
- 1과 2는 처리가 간단히지만 3은 이들보다는 복잡하다.
  - r의 오른쪽 서브 트리의 최소 원소 노드 s를 찾고, s를 r의 자리로 복사하고 s를 삭제하면 된다.
  - s는 무조건 왼쪽 자식이 없으므로 자식 노드가 없거나 1개인 경우를 삭제하는 문제로 바뀐다.
  - 또는 r의 왼쪽 서브 트리의 최대 원소 노드를 찾아도 된다.
  - r 자리에 놓아도 이진 검색 트리의 성질을 전혀 깨지 않는 원소를 찾아야 하기 때문이다.
- 삭제를 위해선 일단 원소를 가진 노드를 찾아야 하므로 검색에 소요되는 시간만큼 든다.
  - 특히 삭제하려는 노드(r)의 자식 노드가 2개인 경우엔 r의 직후 원소를 찾기 위해 내려가는 과정이 추가된다. 

# 순회
- 이진 검색 트리에서 모든 노드를 방문해야 하는 경우를 순회라고 부른다.
- 루트를 언제 방문하느냐에 따라서 아래와 같이 순회 종류가 나뉜다.
  - 전위 순회 (Preorder Traversal)
    - 루트 -> 좌서브 트리 -> 우서브 트리
  - 중위 순회 (Inorder Traversal)
    - 좌서브 트리 -> 루트 -> 우서브 트리
  - 후위 순회 (Postorder Traversal)
    - 좌서브 트리 -> 우서브 트리 -> 루트
