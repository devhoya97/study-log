### 응용 계층에서 사용하는 대표적인 프로토콜
- HTTP
  - 웹 사이트 접속
  - 80번 포트
- DNS
  - 이름 해석
  - 53번 포트
- FTP
  - 파일 전송
  - 20번 포트 (데이터 전송)
  - 21번 포트 (명령과 응답 제어)
- SMTP
  - 이메일 송신
  - 25번 포트
- POP3
  - 이메일 수신
  - 110번 포트

### HTTP 프로토콜
- HTTP는 클라이언트와 서버가 어떻게 데이터를 교환할지 정해놓은 규칙
- 문자 형태로 데이터가 전송되기 때문에 필요한 부분을 파싱해주어야 하므로 다음과 같은 구조를 사용
  - 시작 라인
    - 요청/응답이 어떤 메시지인지를 알려준다.
    - 요청 : HTTP 메서드 + 경로 + HTTP 버전
    - 응답 : HTTP 버전 + 응답 메시지(상태코드)
  - 헤더
    - 클라이언트와 서버가 통신하기 위한 부가적인 정보들 포함
    - Host, Connection(현재 작업이 끝난 후에도 네트워크를 연결 상태로 둘지 여부), Language
  - 공백 (1줄)
  - 바디
    - 데이터가 포함됨
- HTTP 1.0에서는 매 요청마다 연결을 수립하는 과정을 반복하다 보니 서버의 성능이 저하되는 문제점 존재
  - HTTP 1.1에서는 킵얼라이브 기능이 추가되어 연결이 한 번 수립되면 데이터 교환을 마칠 때까지 연결을 유지하고 데이터 교환이 끝나면 연결을 끊는다.
- HTTP 2.0부터는 응용 계층에 바이너리 프레임을 추가하여 기존의 일반 텍스트 데이터를 바이너리로 변환한 후 데이터를 분할하여 전송
  - 전송 속도가 빨라지고 오류 발생 가능성도 낮아짐?

### DNS 서버
- 도메인 주소를 IP 주소로 변경해주는 서버
- DNS 서버가 www.google.com의 IP 주소를 모르는 경우, 또 다른 DNS 서버에 질의해서 IP 주소를 전달받는다.
- DNS 서버는 계층적으로 구성되어 있다.
  - 1단계 질의는 루트가 되고
  - 2단계 질의를 통해 요청하려는 웹 사이트가 .com인지 .edu인지 .net인지 확인하고
  - 마지막 3단계에서 요청하고자 하는 IP 주소를 질의한다.

### DHCP(Dynamic Host Configuration Protocol) 서버
- 사용자들에게 IP 주소를 할당하거나 회수하는 것을 자동으로 해주는 서버

### SMTP와 POP3 프로토콜
- 이메일 송신자가 사용하는 프로토콜이 SMTP
- 수신자가 이메일을 받을 때 사용하는 프로토콜이 POP3
- 자세한 과정은 생략. 필요할 때 책 참고

### 응용 계층에서 사용하는 로드 밸런서
- 응용 계층에서의 로드 밸런서는 전송 계층의 로드 밸런서 기능까지 포함
  - IP 주소나 포트 외에도 URI, HTTP 헤더, 쿠키 등의 내용을 기준으로 부하를 분산
  - 전송 계층의 로드 밸런서가 IP나 포트 번호를 기준으로 부하를 분산시키는 것만 수행했다면, 응용 계층의 로드 밸런서는 서비스별로 부하를 분산시켜주는 것이 가능
    - 로그인 전담 서버, 검색 서버, 결제 서버 분리
- 그럼 일반적으로 로드 밸런서를 사용하면 응용 계층과 전송 계층의 정보를 활용해서 로드 밸런싱을 한다고 보면 되나?
