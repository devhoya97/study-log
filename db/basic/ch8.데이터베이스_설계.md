### 데이터베이스 설계 단계
- E-R모델과 릴레이션 변환 규칙을 이용한 데이터베이스 설계
  1. 요구 사항 분석
     - 사용자의 범위 결정하고 해당 사용자의 업무 분석하여 필요한 데이터가 무엇이고 그 데이터에 어떤 처리가 필요한지 명세서로 문서화
  2. 개념적 설계
    - E-R 모델을 데이터 모델로 사용한다면, 요구 사항 명세서를 E-R 다이어그램으로 표현하는 것이 주요 작업
    - 요구 사항 명세서를 분석하여 DB에 저장해둘 필요가 있다고 판단되는 데이터 요소를 추출하고 데이터 요소 간의 관계를 표현
  3. 논리적 설계
    - 개발에 사용할 DBMS에 적합한 논리적 데이터 모델을 이용해 개념적 설계 단계에서 생성한 개념적 구조를 기반으로 논리적 구조를 설계
    - 관계 데이터 모델을 사용한다면 E-R 다이어그램을 릴레이션 스키마로 변환하여 DBMS가 처리할 수 있도록 하는 것이 주요 작업
    - 네트워크 데이터 모델, 계층 데이터 모델, 관계 데이터 모델, 객체지향 데이터 모델과 같은 논리적 데이터 모델 중 관계 데이터 모델을 많이 사용 
  4. 물리적 설계
     - 논리적 설계 단계에서 생성된 논리적 구조를 기반으로 물리적 구조(DB 저장장치에 실제로 저장하기 위한 내부 저장 구조와 접근 경로 등)를 설계
     - 저장 장치와 운영체제에 적합한 저장 레코드와 인덱스의 구조 등을 설계
     - 저장된 데이터와 인덱스에 빠르게 접근할 수 있는 탐색 기법 등을 정의
  5. 구현
     - DBMS에서 SQL로 작성한 명령문을 실행하여 DB를 실제로 생성
- 정규화를 이용한 데이터베이스 설계(9장)

### 요구 사항 분석
- ex. 한빛 마트의 DB를 위한 요구 사항 명세서
  1. 한빛 마트에 회원으로 가입하려면 회원아이디, 비밀번호, 이름, 나이, 직업을 입력해야 한다.
  2. 가입한 회원에게는 등급과 적립금이 부여된다.
  3. 회원은 회원아이디로 식별한다.
  4. 상품에 대한 상품번호, 상품명, 재고량, 단가 정보를 유지해야 한다.
  5. 상품은 상품번호로 식별한다.
  6. 회원은 여러 상품을 주문할 수 있고, 하나의 상품을 여러 회원이 주문할 수 있다.
  7. 회원이 상품을 주문하면 주문에 대한 주문번호, 주문수량, 배송지, 주문일자 정보를 유지해야 한다.
  8. 각 상품은 한 제조업체가 공급하고, 제조업체 하나는 여러 상품을 공급할 수 있다.
  9. 제조업체가 상품을 공급하면 공급일자와 공급량 정보를 유지해야 한다.
  10. 제조업체에 대한 제조업체명, 전화번호, 위치, 담당자 정보를 유지해야 한다.
  11. 제조업체는 제조업체명으로 식별한다.
  12. 회원은 게시글을 여러 개 작성할 수 있고, 게시글 하나는 한 명의 회원만 작성할 수 있다.
  13. 게시글에 대한 글번호, 글제목, 글내용, 작성일자 정보를 유지해야 한다.
  14. 게시글은 글번호로 식별한다.

### 개념적 설계
- 개체와 속성 추출
  - 개체 == 저장할 만한 가치가 있는 중요 데이터를 지닌 사람이나 사물 등
  - 명세서의 명사 중 선별
  - ex.
    - 회원 (회원아이디, 비밀번호, 이름, 나이, 직업, 등급, 적립금)
    - 상품 (상품번호, 상품명, 재고량, 단가)
    - 제조업체 (제조업체명, 전화번호, 위치, 담당자)
    - 게시글 (글번호, 글제목, 글내용, 작성일자)
- 관계 추출
  - 명세서의 동사 중 선별
  - 추출한 관계에 대한 매핑 카디널리티와 참여 특성을 결정해야 한다.
  - ex.
    - 6번에서 주문 (주문번호, 주문수량, 배송지, 주문일자)
      - 회원 개체와 상품 개체의 다대다 관계
      - 회원이 상품을 반드시 주문해야 하는 것은 아니므로 회원 개체는 주문 관계에 선택적으로 참여
      - 회원이 주문하지 않은 상품이 존재할 수있으므로 상품 개체도 주문 관계에 선택적으로 참여
    - 8번에서 공급 (공급일자, 공급량)
      - 제조업체와 상품의 일대다 관계
      - 상품은 제조업체가 반드시 공급해야 하므로 상품 개체는 공급 관계에 필수적으로 참여
      - 상품을 공급하지 않는 제조업체도 존재할 수 있으므로 제조업체 개체는 공급 관계에 선택적으로 참여
    - 12번에서 작성
      - 회원과 게시글의 일대다 관계
      - 회원이 게시글을 반드시 작성해야 하는 것이 아니므로 회원 개체는 작성 관계에 선택적으로 참여
      - 게시글은 반드시 회원이 작성해야 하므로 게시글 개체는 작성 관계에 필수적으로 참여
- E-R 다이어그램 작성

### 논리적 설계
- E-R 다이어그램을 릴레이션 스키마로 변환할 때 적용할 수 있는 다섯 가지 규칙
  1. 모든 개체는 릴레이션으로 변환한다.
  2. 다대다 관계는 릴레이션으로 변환한다.
  3. 일대다 관계는 외래키로 표현한다. 단, 약한 개체가 참여하는 일대다 관계는 외래키를 포함해서 기본키로 지정한다. (흠)
  4. 일대일 관계를 외래키로 표현한다.
    - 일대일 관계에 필수적으로 참여하는 개체가 하나인 경우, 해당 릴레이션만 외래키를 받는다.
    - 양쪽 개체가 일대일 관계에 필수적으로 참여하면 릴레이션 하나로 합친다.(흠)
  5. 다중 값 속성은 릴레이션으로 변환한다.
- 그 외에도 특히 속성이 많은 관계라면 일대일, 일대다 관계도 릴레이션으로 변환할 수 있다.
  - 다만 생성되는 릴레이션의 개수가 많아져 릴레이션을 관리해야 하는 DBMS의 부담이 커지므로, 신중히 선택해야 한다.
- 개체가 자기 자신과 관계를 맺는 순환 관계도 기본 규칙을 그대로 적용하면 된다.
  - 순환관계가 다대다 관계일 경우에는 릴레이션으로 변환하고, 일대일이나 일대다 관계일 경우에는 외래키로만 표현한다.
