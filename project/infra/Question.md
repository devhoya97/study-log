# CI/CD
### CI가 무엇인가요?
지속적 통합으로, 최대한 자주 메인 코드베이스에 변경사항을 merge 시키는 개발 방식입니다. 이를 통해 빌드,통합 오류를 가능한 한 빠르게 찾아낼 수 있습니다.
merge가 필요할 때마다 수동으로 빌드나 테스트를 돌리기 번거롭고 실수의 여지가 있으므로 Github Actions와 같은 자동화 도구를 사용합니다.

### CD가 무엇인가요?
지속적 전달/배포라는 의미로, CI를 통해서 빌드, 테스트가 완료되어 배포될 준비가 끝난 애플리케이션을 개발자가 수동으로 혹은 자동으로 배포하는 것을 의미합니다.
지속적 전달은 빌드 결과를 전달까지만 하고 배포는 수동으로 진행하는 반면, 지속적 배포는 빌드 결과를 가지고 배포 작업을 수행하는 것까지 자동화 파이프라인에 포함됩니다. 

### 꼬리질문. 지속적 배포가 훨씬 편해보이는데, 지속적 전달을 선택하는 경우는 언제인가요?
직접 사용해본 적은 없지만, 운영 환경에 배포하기 전에, QA, 보안 검토, 비즈니스 승인과 같은 절차가 필요한 경우 사용하지 않을까 추측하고 있습니다.
또한 특정 시간에만 배포해야 한다거나, 일부 사용자에게만 배포하고, 결과를 확인한 후 전체 배포하는 경우에도 지속적 전달을 사용할 것 같습니다.

### github actions는 무엇인가요?
CI/CD를 자동화할 수 있는 도구 중 하나입니다.
특히 step에는 shell script를 작성해야 하는데, 자주 사용되는 스크립트 코드를 Actions로 제공해줘서 편리합니다.
젠킨스와의 비교? 깃허브액션만의 특징과 장단점을 말할 수 있으면 좋겠다.

# Docker
### 컨테이너와 가상머신의 차이에 대해 설명해주세요.
가상머신과 컨테이너 모두 하나의 컴퓨터에서 격리된 환경을 여러 개 생성하여 프로그램 실행 시 환경 종속적인 문제가 발생하지 않게 만들기 위해 사용됩니다.
가상머신의 경우 각 가상머신마다 운영체제를 설치해줘야 하는데 용량도 크고, 가상머신 위에서 동작하는 프로세스는 Guest OS, 하이퍼바이저를 거쳐 Host OS에 도달하므로 무겁습니다.
반면 컨테이너는 Host OS위에서 동작하는 도커와 같은 컨테이너 플랫폼 위에서 독립적으로 실행되므로 가상머신에 비해 가볍습니다.

### Docker를 사용한 이유는 무엇인가요?
도커 이미지는 운영 환경을 통째로 패키징하기 때문에 어느 서버에서 실행하든 동일한 환경을 보장합니다.
따라서 도커 이미지를 사용하면 개발 환경과 운영 환경 간의 차이를 최소화할 수 있으며 같은 맥락으로 scale out 또한 쉽게 할 수 있습니다.
실제로 프로젝트에서 운영 서버를 한 대 늘릴 때, 도커 이미지를 사용해서 환경 차이로 인한 문제를 겪지 않고 손쉽게 배포했던 경험이 있습니다.

### 꼬리질문1. 도커를 사용하지 않고 scale out했을 때, 발생할 수 있는 환경 문제가 무엇이 있나요?
애플리케이션이 실행되려면 여러 패키지와 라이브러리가 필요할 수 있고, 리눅스의 user space까지 설정이 필요할 수 있습니다.
도커 이미지에는 애플리케이션 실행을 위해 필요한 모든 의존성이 포함되어 있어서, 이를 기반으로 컨테이너를 만들기 때문에 서버마다 별도로 환경을 설정할 필요가 없습니다.
또한 리눅스 이미지 기준으로 리눅스의 user space까지 이미지에 담기기 때문에 인스턴스마다 별도로 OS와 관련된 환경설정을 해줄 필요가 없습니다.

### 도커 아키텍쳐에 대해 설명해주세요.
도커는 큰 틀에서 클라이언트, 호스트, 레지스트리로 나눌 수 있습니다.
클라이언트는 사용자 쪽에서 명령 커맨드를 입력하는 터미널이라고 생각할 수 있고
호스트는 사용자의 명령을 받아 작업을 수행하는 서버라고 생각할 수 있으며
레지스트리는 전 세계 사람들이 도커 이미지를 올리는 도커 허브라고 생각할 수 있습니다.

### Github Actions의 CD Workflow에서 docker compose를 사용한 이유가 무엇인가요?
개발 초기 단계에는 하나의 EC2 인스턴스에 스프링애플리케이션과 MySQL을 모두 실행시키고 있었습니다.
두 개의 이미지를 한 번에 실행시키면 편하지 않을까? 하는 생각으로 docker compose를 사용했는데요.
지금 와서 생각해보면 서버 애플리케이션에 배포가 발생한다고 해서 항상 MySQL을 새로 띄울 필요는 없으므로
docker compose를 사용할 필요는 없었던 것 같습니다. 

### 꼬리질문1. 그럼 docker compose를 사용하기 적절한 상황은 뭐가 있을까요?
도커 컴포즈는 여러 개의 컨테이너를 하나의 서비스로 정의하고 구성해 하나의 묶음으로 관리할 수 있도록 도와주므로,
하나의 인스턴스에서 애플리케이션, DB, Redis와 같이 여러 프로그램을 실행시켜야 할 때 유용하다고 생각합니다. 

### 꼬리질문2. 무중단 배포 쉘 스크립트에서 도커컴포즈를 사용했던데, 왜 사용하셨나요?
8080 포트에 띄울 이미지와 8081 포트에 띄울 이미지의 이름을 도커컴포즈 파일 내에서 명확하게 구분해주는게, 쉘 스크립트를 읽을 때 더 편하다고 느꼈기 때문입니다.
물론 docker run 명령을 수행할 때 컨테이너 이름이나 매핑할 포트를 설정할 수 있으니 하나의 도커파일로도 해결할 수 있었을 것 같습니다.

# 모니터링
### 액추에이터란 무엇인가요?
프로덕션 준비 기능을 편리하게 사용할 수 있게끔 스프링부트가 제공하는 라이브러리로서
마이크로미터, 프로메테우스, 그라파나와 같은 모니터링 시스템과 쉽게 연동할 수 있는 기능도 제공합니다.

### 액추에이터의 엔드포인트를 사용하려면 어떤 과정이 필요한가요?
엔트포인트를 활성화하고, 이에 대한 노출 설정까지 완료해줘야 합니다. 예를 들어 엔드포인트를 HTTP를 통해 웹에 노출할 수 있습니다.

### 서버를 재시작하지 않고 로그 레벨을 변경하는 방법에 대해 설명해주세요.
스프링부트 액추에이터의 도움을 받으면, 서버를 재시작하지 않고 로그 레벨을 변경할 수 있습니다.
/actuator/loggers/엔드포인트 경로에 대해 POST 요청으로 configuredLevel을 설정해주면 됩니다.

### 액추에이터의 보안 문제를 해결하려면 어떻게 해야하나요?
액추에이터의 엔드포인트를 별도의 포트로 분리하고, 해당 포트는 내부망에서만 접근할 수 있게끔 설정하면 됩니다.

### 마이크로미터는 무엇인가요?
다양한 시스템 지표를 실제로 수집하고, 이를 다양한 모니터링 시스템에 전달할 수 있도록 추상화된 API를 제공합니다. 
메트릭 수집의 실제 동작은 마이크로미터의 구현체가 담당하고, 액추에이터는 그 메트릭을 노출하는 역할을 합니다.

### 프로메테우스는 무엇인가요?

### 그라파나는 무엇인가요?

### 꼬리질문. 그라파나로 메트릭이 오기까지 필요한 과정을 설명해주세요.

# 기타
### 포트포워딩이란 무엇인가요?
포트포워딩은 특정 네트워크 포트로 들어오는 트래픽을 다른 포트 또는 내부 네트워크의 다른 IP 주소로 전달하는 기술입니다.

### 프록시 서버란 무엇인가요?
프록시 서버는 클라이언트와 서버 사이에 중계기로서 대리로 통신을 수행해줍니다.
프록시 서버를 사용하면 보안성, 성능, 안정성을 향상시킬 수 있고, 프록시 서버는 크게 포워드 프록시 서버와 리버스 프록시 서버로 나뉩니다.

### 꼬리질문. 포워드프록시와 리버스프록시의 차이에 대해 설명해주세요.
포워드 프록시 서버는 클라이언트와 같은 네트워크에 속하며, 클라이언트는 외부 네트워크에 있는 서버에 요청을 보내기 위해 항상 포워드 프록시 서버를 거쳐야 합니다.
따라서 포워드 프록시 서버를 설정하여 클라이언트가 방문할 수 있는 사이트를 제한할 수 있고, 
서버 입장에서는 클라이언트의 IP가 모두 포워드 프록시 서버의 IP로 전달받으므로, 정확히 어떤 클라이언트가 요청하는지 알 수 없습니다.
리버스 프록시 서버는 서버와 같은 네트워크에 속하며, 클라이언트의 요청은 모두 서버에 도달하기 전 리버스 프록시 서버를 거치게 됩니다.
따라서 리버스 프록시 서버는 로드밸런서의 역할을 수행할 수 있으며, 본 서버의 IP 주소를 노출시키지 않아도 되므로 서버 보안을 높일 수 있습니다.
또한 리버스 프록시 서버에 캐시 데이터를 저장하면 성능 향상에 도움을 받을 수 있고, SSL 암호화 복호화를 서버 대신 수행해줌으로써 서버의 부담을 줄일 수 있습니다.

### 복제지연 문제는 무엇인가요?
